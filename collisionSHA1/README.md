# Лабораторная работа 1: Изучение свойств криптографических функций хеширования

## Постановка задачи

Напишите программу, генерирующую из файла `leasing.txt` эквивалентные по смыслу текстовые документы в количестве, достаточном для возникновения коллизии функции хеширования SHA-1. Типовые приемы: замена слов и словосочетаний на синонимы; исключение или включение союзов, вводных слов и эпитетов; внедрение управляющих символов.

## Описание решения

Создается программа, которая будет генерировать по _n_ документов на основе исходного на протяжении цикла из _m_ итераций.

Метод `generateSHA1` для генерации хеш-кода SHA-1 файла принимает на вход путь к файлу и булево значение `print` (для определения необходимости вывода результата в консоль). В теле метода используется `ProcessBuilder`, аргументом которого будет являться команда для запуска командной строки Windows (`cmd.exe`) и запуска в ней утилиты `openssl`. Далее при помощи `InputStream` запущенного процесса получается результат выполнения команды, выводится в консоль (при необходимости) и в качестве результата возвращается хеш-код.

В методе `main` определяются необходимые для работы переменные и сохраняется хеш-код исходного файла.

Далее в цикле `for` будут проходить итерации создания документов. В данном примере программа пройдет 50 итераций цикла и сгенерирует в конечном счете 500 документов (если коллизия не встретится раньше). На каждой итерации при помощи `BufferedReader` и `FileReader` будет считываться входной файл и при помощи `StringBuilder` содержимое будет записываться в строку `inputText`.

Далее в еще одном цикле `for` будет сгенерировано 10 документов. Первым делом в каждом документе все символы `space` будут заменяться на последовательности «`space – space – backspace`». Далее случайное количество этих последовательностей будет заменено на последовательности «`space – backspace – space`»: в следующем вложенном цикле `for` в соответствии с количеством замен будет проводиться замена последовательностей в случайных местах документа.

После внесения изменений сформированный текст записывается в выходной файл. Далее происходит проверка совпадения хеш-кодов исходного и модифицированного файла. При совпадении выводится сообщение об обнаруженной коллизии, а также создаются условия для остановки всех циклов `for`.

Дополнительно в репозитории находится файл `ReplaceSpaces.java`, который представляет собой наработки по созданию программы используя байтовое представление документа. Его программный код позволяет заменить пробелы на последовательности «`space – space – backspace`», а затем 10 этих последовательностей в случайных местах документа на «`space – backspace – space`». Выходной файл будет расположен в директории `res` под именем `byte_output.txt`.
